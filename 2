<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>SSH-Zugriff & Password Manager Simulation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: monospace; background: #1e1e1e; color: #fff; display: flex; height: 100vh; margin: 0; }
    .terminal, .windows { flex: 1; padding: 1rem; box-sizing: border-box; }
    .terminal { background: #000; overflow-y: auto; border-right: 2px solid #444; }
    .terminal-output { white-space: pre-line; line-height: 1.4; }
    .terminal-input { width: 100%; background: #000; color: #0f0; border: none; font-family: monospace; font-size: 1rem; }
    .green { color: #0f0; }
    .windows { background: #0047ab; position: relative; color: #000; font-family: sans-serif; }
    .icon-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; padding: 2rem; }
    .icon { text-align: center; background: #fff; padding: 1rem; border-radius: 0.5rem; cursor: pointer; }
    .popup { position: absolute; top: 20%; left: 20%; width: 60%; background: #fff; color: #000; padding: 2rem; border-radius: 1rem; display: none; }
    .popup input, .popup select { display: block; margin: 0.5rem 0 1rem; padding: 0.5rem; width: 100%; }
    .popup button { padding: 0.5rem 1rem; }
    .taskbar { position: absolute; bottom: 0; left: 0; right: 0; background: #002b6b; display: flex; align-items: center; padding: 0.5rem; }
    .taskbar img { height: 32px; margin-right: 1rem; }
    .taskbar .icon { background: none; padding: 0.3rem; color: white; font-size: 1rem; margin-right: 1rem; }
    .next-steps { margin-top: 1rem; font-size: 1.1rem; }
    .next-steps button { background: #fff; border: none; padding: 0.7rem 1.2rem; margin-right: 0.5rem; cursor: pointer; font-size: 1rem; }
  </style>
</head>
<body>
  <div class="terminal">
    <div id="terminal-output" class="terminal-output">
Welcome to Medios SSH Gateway
    </div>
    <input id="terminal-input" class="terminal-input" placeholder="username@spberrzwbck02:~$" autofocus />
  </div>

  <div class="windows">
    <div class="icon-grid">
      <div class="icon" onclick="openPopup()">🔑<br>Password Manager</div>
      <div class="icon">📁<br>Explorer</div>
      <div class="icon">🌐<br>Browser</div>
      <div class="icon">🛠<br>System Tools</div>
      <div class="icon">📊<br>Monitoring</div>
      <div class="icon">💼<br>Office</div>
    </div>
    <div class="popup" id="popup">
      <h2>Passwortsuche</h2>
      <label>Vorname:</label>
      <input id="fname" type="text" placeholder="Max">
      <label>Nachname:</label>
      <input id="lname" type="text" placeholder="Mustermann">
      <label>Abteilung:</label>
      <select id="dept">
        <option>Marketing</option>
        <option>Vertrieb</option>
        <option>HR</option>
        <option>IT/IT Security</option>
        <option>Produktion</option>
        <option>Support</option>
      </select>
      <button onclick="showCredentials()">Suchen</button>
      <div id="credentials" style="margin-top:1rem;"></div>
    </div>
    <div class="taskbar">
      <button class="icon" style="background: #0057b8; border: none; border-radius: 4px; padding: 0.3rem 0.6rem; font-size: 1rem;">Start</button>
      <div class="icon">🔈</div>
      <div class="icon">🔋</div>
      <div class="icon">🕒</div>
      <div class="icon">🌐</div>
    </div>
  </div>

  <script>
    const terminal = document.getElementById('terminal-output');
    const input = document.getElementById('terminal-input');
    let stage = -1;
    const messages = [
      "Connecting to SPBERRZWBCK02...",
      "DNS lookup... ok",
      "Authenticating SSH handshake... ok",
      "Retrieving host fingerprint... verified",
      "Opening secure channel... ok",
      "\nType in your username to continue:"
    ];

    function showNextMessage(index = 0) {
      if (index >= messages.length) {
        stage = 0;
        return;
      }
      terminal.innerHTML += `\n<span class='green'>${messages[index]}</span>`;
      terminal.scrollTop = terminal.scrollHeight;
      setTimeout(() => showNextMessage(index + 1), 1000);
    }
    showNextMessage();

    input.addEventListener('keydown', function(e) {
      if (e.key === 'Enter') {
        const value = input.value.trim();
        input.value = '';
        if (stage === 0) {
          terminal.innerHTML += `\nlogin as: ${value}`;
          terminal.innerHTML += `\nPassword:`;
          stage = 1;
        } else if (stage === 1) {
          terminal.innerHTML += `\nAuthentifizierung läuft...`;
          setTimeout(() => {
            terminal.innerHTML += `\n<span class='green'>Verbindung hergestellt.</span>`;
            terminal.innerHTML += `\n<span class='green'>Starte Repository-Check...</span>`;
            setTimeout(() => {
              terminal.innerHTML += `\n<span class='green'>→ Mount /mnt/repo01 erfolgreich</span>`;
              terminal.innerHTML += `\n<span class='green'>→ Kein Hinweis auf Verschlüsselung oder Malware</span>`;
              terminal.innerHTML += `\n<span class='green'>→ Backup-Integrity-Check abgeschlossen – Status: OK</span>`;
              terminal.innerHTML += `\n\n<span class='next-steps'>Was möchten Sie als Nächstes tun?</span>`;
              terminal.innerHTML += `\n<button onclick=\"alert('NAS Backupprüfung gestartet')\">NAS Backupprüfung</button>`;
              terminal.innerHTML += ` <button onclick=\"alert('Health-Check gestartet')\">Health-Check starten</button>`;
              terminal.innerHTML += ` <button onclick=\"alert('Test Restore läuft')\">Test Restore</button>`;
              terminal.innerHTML += ` <button onclick=\"alert('Bandlaufwerkstatus prüfen')\">Bandlaufwerkstatus</button>`;
              terminal.scrollTop = terminal.scrollHeight;
            }, 2000);
          }, 1500);
          stage = 2;
        }
      }
    });

    function openPopup() {
      document.getElementById('popup').style.display = 'block';
    }

    function showCredentials() {
      const dept = document.getElementById('dept').value;
      const cred = document.getElementById('credentials');
      if (dept === 'IT/IT Security') {
        cred.innerHTML = '<b>Benutzer:</b> backupadmin<br><b>Passwort:</b> !M3di0sSSH2025 ✅';
      } else {
        cred.innerHTML = 'Keine Zugangsdaten für diese Abteilung.';
      }
    }
  </script>
</body>
</html>
